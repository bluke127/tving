{"ast":null,"code":"var _jsxFileName = \"D:\\\\tving\\\\client\\\\src\\\\pages\\\\Details.jsx\",\n    _s = $RefreshSig$();\n\nimport { getDefaultNormalizer } from '@testing-library/react';\nimport React, { Component, useEffect, useState, useCallback } from 'react';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport { getDetailTv } from 'services/tv';\nimport { getDetailMovie } from 'services/movie';\nimport styles from 'styled/Details.module.css';\nimport CheckBox from 'components/CheckBox';\nimport ClipLoader from 'react-spinners/ClipLoader';\nimport Favorate from 'components/Favorate';\nimport { loadingState, favorateState } from '../atoms';\nimport { useRecoilState, useRecoilValue, useSetRecoilState, useResetRecoilState } from 'recoil';\nimport Img from 'components/Img';\nimport { css } from '@emotion/react';\nimport { useMemo } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function Details() {\n  _s();\n\n  const override = css`\n    display: block;\n    margin: 0 auto;\n    border-color: red;\n    background-color: blue !important;\n  `;\n  let [color, setColor] = useState('#ffffff');\n  const dontShow = ['budget', 'id', 'imdb_id', 'video', 'vote_average', 'vote_count'];\n\n  const getDetail = async () => {\n    let res;\n\n    if (type === 'movie') {\n      res = await getDetailMovie(id);\n    } else if (type === 'tv') {\n      res = await getDetailTv(id);\n    }\n\n    setResponse(res);\n  };\n\n  const [response, setResponse] = useState();\n  const [loading, setLoading] = useRecoilState(loadingState);\n  const [favorate, setFavorate] = useRecoilState(favorateState);\n  useEffect(() => {\n    getDetail();\n    setLoading(false);\n  }, [loading]);\n  const currentFavorateState = useMemo(() => {// favorate.includes();\n  }); // useEffect(() => {\n  //   if (favorate) setFavorate({ id, type });\n  // }, [favorate]);\n\n  const {\n    type,\n    id\n  } = useParams();\n\n  const a = () => {\n    console.log(favorate);\n    setFavorate({\n      id,\n      type\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: loading ? /*#__PURE__*/_jsxDEV(ClipLoader, {\n      color: color,\n      css: override,\n      size: 150\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.detail_wrap,\n      children: [/*#__PURE__*/_jsxDEV(Favorate, {\n        onClick: (id, type) => a\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: response ? Object.entries(response).map(_ref => {\n          let [key, value] = _ref;\n          return /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [/*#__PURE__*/_jsxDEV(\"b\", {\n              style: {\n                fontSize: '24px'\n              },\n              children: key\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 21\n            }, this), key === 'adult' ? /*#__PURE__*/_jsxDEV(CheckBox, {\n              value: value\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 23\n            }, this) : key === 'backdrop_path' ? /*#__PURE__*/_jsxDEV(Img, {\n              src: value\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 23\n            }, this) : value && !dontShow.includes(value) ? JSON.stringify(value) : '']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 19\n          }, this);\n        }) : null\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 9\n    }, this)\n  }, void 0, false);\n}\n\n_s(Details, \"Yx3XYEpD5Gek5uLzNqvtyrrqpCU=\", false, function () {\n  return [useRecoilState, useRecoilState, useParams];\n});\n\n_c = Details;\n\nvar _c;\n\n$RefreshReg$(_c, \"Details\");","map":{"version":3,"names":["getDefaultNormalizer","React","Component","useEffect","useState","useCallback","useNavigate","useParams","getDetailTv","getDetailMovie","styles","CheckBox","ClipLoader","Favorate","loadingState","favorateState","useRecoilState","useRecoilValue","useSetRecoilState","useResetRecoilState","Img","css","useMemo","Details","override","color","setColor","dontShow","getDetail","res","type","id","setResponse","response","loading","setLoading","favorate","setFavorate","currentFavorateState","a","console","log","detail_wrap","Object","entries","map","key","value","fontSize","includes","JSON","stringify"],"sources":["D:/tving/client/src/pages/Details.jsx"],"sourcesContent":["import { getDefaultNormalizer } from '@testing-library/react';\r\nimport React, { Component, useEffect, useState, useCallback } from 'react';\r\nimport { useNavigate, useParams } from 'react-router-dom';\r\nimport { getDetailTv } from 'services/tv';\r\nimport { getDetailMovie } from 'services/movie';\r\nimport styles from 'styled/Details.module.css';\r\nimport CheckBox from 'components/CheckBox';\r\nimport ClipLoader from 'react-spinners/ClipLoader';\r\nimport Favorate from 'components/Favorate';\r\nimport { loadingState, favorateState } from '../atoms';\r\nimport {\r\n  useRecoilState,\r\n  useRecoilValue,\r\n  useSetRecoilState,\r\n  useResetRecoilState,\r\n} from 'recoil';\r\nimport Img from 'components/Img';\r\nimport { css } from '@emotion/react';\r\nimport { useMemo } from 'react';\r\n\r\nexport default function Details() {\r\n  const override = css`\r\n    display: block;\r\n    margin: 0 auto;\r\n    border-color: red;\r\n    background-color: blue !important;\r\n  `;\r\n  let [color, setColor] = useState('#ffffff');\r\n  const dontShow = [\r\n    'budget',\r\n    'id',\r\n    'imdb_id',\r\n    'video',\r\n    'vote_average',\r\n    'vote_count',\r\n  ];\r\n  const getDetail = async () => {\r\n    let res;\r\n    if (type === 'movie') {\r\n      res = await getDetailMovie(id);\r\n    } else if (type === 'tv') {\r\n      res = await getDetailTv(id);\r\n    }\r\n    setResponse(res);\r\n  };\r\n  const [response, setResponse] = useState();\r\n  const [loading, setLoading] = useRecoilState(loadingState);\r\n  const [favorate, setFavorate] = useRecoilState(favorateState);\r\n  useEffect(() => {\r\n    getDetail();\r\n    setLoading(false);\r\n  }, [loading]);\r\n  const currentFavorateState = useMemo(() => {\r\n    // favorate.includes();\r\n  });\r\n  // useEffect(() => {\r\n  //   if (favorate) setFavorate({ id, type });\r\n  // }, [favorate]);\r\n  const { type, id } = useParams();\r\n  const a = () => {\r\n    console.log(favorate);\r\n    setFavorate({ id, type });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {loading ? (\r\n        <ClipLoader color={color} css={override} size={150} />\r\n      ) : (\r\n        <div className={styles.detail_wrap}>\r\n          <Favorate onClick={(id, type) => a}></Favorate>\r\n          <ul>\r\n            {response\r\n              ? Object.entries(response).map(([key, value]) => (\r\n                  <li>\r\n                    <b style={{ fontSize: '24px' }}>{key}</b>\r\n                    {key === 'adult' ? (\r\n                      <CheckBox value={value}></CheckBox>\r\n                    ) : key === 'backdrop_path' ? (\r\n                      <Img src={value} />\r\n                    ) : value && !dontShow.includes(value) ? (\r\n                      JSON.stringify(value)\r\n                    ) : (\r\n                      ''\r\n                    )}\r\n                  </li>\r\n                ))\r\n              : null}\r\n          </ul>\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}