{"ast":null,"code":"var _jsxFileName = \"D:\\\\tving\\\\client\\\\src\\\\components\\\\Img.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState, useRef } from 'react'; // import styled from 'styled/Modal.module.css';\n\nimport styled from 'styled/Img.module.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Img(props) {\n  _s();\n\n  const [loading, setLoading] = useState(true);\n  const imgRef = useRef();\n\n  const onLoad = () => {//   // alert();\n    // setLoading(false);\n    // console.log('load');\n  };\n\n  useEffect(() => {\n    setLoading(true);\n    console.log('useEffect');\n  }, []);\n  useEffect(() => {\n    if (imgRef.current) setLoading(false);\n    console.log('img');\n  }, [imgRef.current]);\n  return /*#__PURE__*/_jsxDEV(\"span\", {\n    className: styled.img_wrap,\n    children: [loading ? /*#__PURE__*/_jsxDEV(\"span\", {\n      className: styled.loading,\n      children: \"\\uB85C\\uB529\\uC911\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 18\n    }, this) : null, !props.isapiresponse ? /*#__PURE__*/_jsxDEV(\"img\", {\n      ref: imgRef,\n      ...props,\n      src: `${process.env.REACT_APP_IMG_URL}${props.src}`,\n      alt: props.alt\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"img\", {\n      ref: imgRef,\n      ...props,\n      alt: props.alt\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Img, \"D3fBA7uSb4M8G9eLUwlIicAa0oU=\");\n\n_c = Img;\n\nvar _c;\n\n$RefreshReg$(_c, \"Img\");","map":{"version":3,"names":["React","useEffect","useState","useRef","styled","Img","props","loading","setLoading","imgRef","onLoad","console","log","current","img_wrap","isapiresponse","process","env","REACT_APP_IMG_URL","src","alt"],"sources":["D:/tving/client/src/components/Img.tsx"],"sourcesContent":["import React, { useEffect, useState, useRef, useMemo, forwardRef } from 'react';\r\n// import styled from 'styled/Modal.module.css';\r\nimport {\r\n  RecoilRoot,\r\n  atom,\r\n  selector,\r\n  useRecoilState,\r\n  useRecoilValue,\r\n  useSetRecoilState,\r\n  useResetRecoilState,\r\n} from 'recoil';\r\nimport styled from 'styled/Img.module.css';\r\nimport { loadingState, headerState } from '../atoms';\r\n\r\nexport default function Img(props: any) {\r\n  const [loading, setLoading] = useState(true);\r\n  const imgRef = useRef();\r\n  const onLoad = () => {\r\n    //   // alert();\r\n    // setLoading(false);\r\n    // console.log('load');\r\n  };\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    console.log('useEffect');\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (imgRef.current) setLoading(false);\r\n    console.log('img');\r\n  }, [imgRef.current]);\r\n  return (\r\n    <span className={styled.img_wrap}>\r\n      {loading ? <span className={styled.loading}>로딩중</span> : null}\r\n      {!props.isapiresponse ? (\r\n        <img\r\n          ref={imgRef}\r\n          {...props}\r\n          src={`${process.env.REACT_APP_IMG_URL}${props.src}`}\r\n          alt={props.alt}\r\n        />\r\n      ) : (\r\n        <img ref={imgRef} {...props} alt={props.alt} />\r\n      )}\r\n    </span>\r\n  );\r\n}\r\n"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,EAAqCC,MAArC,QAAwE,OAAxE,C,CACA;;AAUA,OAAOC,MAAP,MAAmB,uBAAnB;;AAGA,eAAe,SAASC,GAAT,CAAaC,KAAb,EAAyB;EAAA;;EACtC,MAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBN,QAAQ,CAAC,IAAD,CAAtC;EACA,MAAMO,MAAM,GAAGN,MAAM,EAArB;;EACA,MAAMO,MAAM,GAAG,MAAM,CACnB;IACA;IACA;EACD,CAJD;;EAKAT,SAAS,CAAC,MAAM;IACdO,UAAU,CAAC,IAAD,CAAV;IACAG,OAAO,CAACC,GAAR,CAAY,WAAZ;EACD,CAHQ,EAGN,EAHM,CAAT;EAKAX,SAAS,CAAC,MAAM;IACd,IAAIQ,MAAM,CAACI,OAAX,EAAoBL,UAAU,CAAC,KAAD,CAAV;IACpBG,OAAO,CAACC,GAAR,CAAY,KAAZ;EACD,CAHQ,EAGN,CAACH,MAAM,CAACI,OAAR,CAHM,CAAT;EAIA,oBACE;IAAM,SAAS,EAAET,MAAM,CAACU,QAAxB;IAAA,WACGP,OAAO,gBAAG;MAAM,SAAS,EAAEH,MAAM,CAACG,OAAxB;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAAH,GAAiD,IAD3D,EAEG,CAACD,KAAK,CAACS,aAAP,gBACC;MACE,GAAG,EAAEN,MADP;MAAA,GAEMH,KAFN;MAGE,GAAG,EAAG,GAAEU,OAAO,CAACC,GAAR,CAAYC,iBAAkB,GAAEZ,KAAK,CAACa,GAAI,EAHpD;MAIE,GAAG,EAAEb,KAAK,CAACc;IAJb;MAAA;MAAA;MAAA;IAAA,QADD,gBAQC;MAAK,GAAG,EAAEX,MAAV;MAAA,GAAsBH,KAAtB;MAA6B,GAAG,EAAEA,KAAK,CAACc;IAAxC;MAAA;MAAA;MAAA;IAAA,QAVJ;EAAA;IAAA;IAAA;IAAA;EAAA,QADF;AAeD;;GAhCuBf,G;;KAAAA,G"},"metadata":{},"sourceType":"module"}